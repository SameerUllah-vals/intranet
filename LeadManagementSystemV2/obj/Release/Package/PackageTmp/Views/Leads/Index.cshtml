@using LeadManagementSystemV2.Helpers;
@{
    ViewBag.AllowAdding = true;
    ViewBag.AllowEditing = true;
    if (ViewBag.UserRecord.RoleID == ApplicationHelper.EnumRole.Administrator)
    {
        //ViewBag.AllowDeleting = true;
    }
    string DataTableColumns = "{ \"data\": \"ID\",\"searchable\": false,\"bSortable\": true,\"bVisible\": false},{ \"data\": \"Name\"},{ \"data\": \"Email\"},{ \"data\": \"CustomerName\"},{ \"data\": \"PhoneNumber\"},{ \"data\": \"Priority\"},{ \"data\": \"Username\"},{ \"data\": \"CreatedDateTime\"},{ \"data\": \"UpdatedDateTime\"}";
    if (ViewBag.AllowAdding != null || ViewBag.AllowEditing != null || ViewBag.AllowDeleting != null)
    {
        ViewBag.DataTableActionColumn = "8";
        DataTableColumns += ",{ \"data\": \"ID\",\"searchable\": false,\"bSortable\": false}";
    }
    ViewBag.DataTableColumns = DataTableColumns;
}
@section LinkStyleSection{
    @Styles.Render("~/assets/cache/datatablestyle")
}
@section LinkScriptSection{
    @Scripts.Render("~/assets/cache/datatablescript")
}
@section InLineScriptSection{
    @{Html.RenderPartial("JScript");}
}
@{Html.RenderPartial("BreadCrumb");}
<!--Page content-->
<!--===================================================-->
<div id="page-content">
    <div class="panel">
        <div class="panel-body">
            <div class="row">
                <div class="col-md-12">
                    @using (Html.BeginForm("Export", "Leads", FormMethod.Post))
                    {
                        <input type="submit" value="Export Data Excel" class="btn btn-primary" />
                    }
                    <br />
                    @using (Html.BeginForm("ExportEmpty", "Leads", FormMethod.Post))
                    {
                        <input type="submit" value="Export Empty Excel" class="btn btn-primary" />
                    }
                    <br />
                    <a href="/Leads/ImportExcel" class="btn btn-primary">Import Excel</a>
                    <br />
                    <br />
                </div>
            </div>
          
            <table class="table table-striped table-bordered record-table" cellspacing="0" width="100%">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th class="min-desktop">Email</th>
                        <th class="min-desktop">Customer Name</th>
                        <th class="min-desktop">Phone #</th>
                        <th class="min-desktop">Priority</th>
                        <th class="min-desktop">Created By</th>
                        <th class="min-desktop">Created DateTime</th>
                        <th class="min-desktop">Updated DateTime</th>
                        @if (ViewBag.DataTableActionColumn != null)
                        {
                            <th data-priority="2">Actions</th>
                        }
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>
    <!--===================================================-->
    <!-- End Striped Table -->
</div>
<!--===================================================-->
<!--End page content-->

