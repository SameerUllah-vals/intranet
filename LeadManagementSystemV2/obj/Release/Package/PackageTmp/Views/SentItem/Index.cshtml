@using LeadManagementSystemV2.Helpers;
@{
    ViewBag.AllowAdding = true;
    ViewBag.AllowEditing = true;
    if (ViewBag.UserRecord.RoleID == ApplicationHelper.EnumRole.Administrator)
    {
        //ViewBag.AllowDeleting = true;
    }
    string DataTableColumns = "{ \"data\": \"ID\",\"searchable\": false,\"bSortable\": true,\"bVisible\": false},{ \"data\": \"TicketNo\"},{ \"data\": \"DepartPerson\"},{ \"data\": \"DepartmentName\"},{ \"data\": \"ResourceName\"},{ \"data\": \"Priority\"},{ \"data\": \"Username\"},{ \"data\": \"Status\"},{ \"data\": \"CreatedDateTime\"},{ \"data\": \"UpdatedDateTime\"}";
    if (ViewBag.AllowAdding != null || ViewBag.AllowEditing != null || ViewBag.AllowDeleting != null)
    {
        ViewBag.DataTableActionColumn = "9";
        DataTableColumns += ",{ \"data\": \"ID\",\"searchable\": false,\"bSortable\": false}";
    }
    ViewBag.DataTableColumns = DataTableColumns;
}
@section LinkStyleSection{
    @Styles.Render("~/assets/cache/datatablestyle")
}
@section LinkScriptSection{
    @Scripts.Render("~/assets/cache/datatablescript")
}
@section InLineScriptSection{
    @{Html.RenderPartial("JScript");}
    <script>
        $(document).ready(function () {
            $("#btnAdd").text('Create a new request');
        });
    </script>
}
@{Html.RenderPartial("BreadCrumb");}
<!--Page content-->
<!--===================================================-->
<div id="page-content">
    <div class="panel">
        <div class="panel-body">
            @*<div class="row">
                    <div class="col-md-12">
                        @using (Html.BeginForm("Export", "Leads", FormMethod.Post))
                        {
                            <input type="submit" value="Export Data Excel" class="btn btn-primary" />
                        }
                        <br />
                        @using (Html.BeginForm("ExportEmpty", "Leads", FormMethod.Post))
                        {
                            <input type="submit" value="Export Empty Excel" class="btn btn-primary" />
                        }
                        <br />
                        <a href="/Leads/ImportExcel" class="btn btn-primary">Import Excel</a>
                        <br />
                        <br />
                    </div>
                </div>*@

            <table class="table table-striped table-bordered record-table" cellspacing="0" width="100%">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Ticket No</th>
                        <th>Responsable</th>
                        <th>Depart</th>
                        <th>Issue</th>
                        <th>Priority</th>
                        <th>Created By</th>
                        <th>Status</th>
                        <th class="min-desktop">Created DateTime</th>
                        <th class="min-desktop">Updated DateTime</th>
                        @if (ViewBag.DataTableActionColumn != null)
                        {
                            <th data-priority="2">Actions</th>
                        }
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>
    <!--===================================================-->
    <!-- End Striped Table -->
</div>
<!--===================================================-->
<!--End page content-->
