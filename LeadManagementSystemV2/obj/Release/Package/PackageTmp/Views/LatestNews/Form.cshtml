@model LeadManagementSystemV2.Models.LatestNewsModel
@using LeadManagementSystemV2.Models;
@using LeadManagementSystemV2.Helpers;
@section LinkStyleSection{
 
    @Styles.Render("~/assets/cache/select2style")
    @Styles.Render("~/assets/cache/datepickerstyle")
}
@section LinkScriptSection{
   
    @Scripts.Render("~/assets/cache/select2script")
    @Scripts.Render("~/assets/cache/datepickerscript")
}
@section InLineScriptSection{
   
    <script>
        $("#pnlGallery").hide();
    @if (ViewBag.PageType == "View")
    {
       @:DisableView();
    }

        $(document).on("click", "button.showGallery", function () {
            $("#pnlGallery").show();
        });

    </script>
}
@{Html.RenderPartial("BreadCrumb");}
<!--Page content-->
<!--===================================================-->
<div id="page-content">
    <div class="panel">
        <!--Block Styled Form -->
        <!--===================================================-->
        @using (Ajax.BeginForm("Save", "LatestNews", null, new AjaxOptions { HttpMethod = "POST", OnBegin = "OnFormBegin", OnComplete = "OnFormComplete", OnSuccess = "OnFormSuccess", OnFailure = "OnFormFailure" }))
        {
            @Html.AntiForgeryToken()
            @Html.HiddenFor(m => m.ID)
            <div class="panel-body">
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label">Title <span class="text-danger">*</span></label>
                            @Html.TextBoxFor(m => m.Title, null, new { @class = "form-control", @placeholder = "Title *" })
                            @Html.ValidationMessageFor(m => m.Title, "", new { @class = "text-danger" })
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label">Status <span class="text-danger">*</span></label>
                            @Html.DropDownListFor(m => m.Status, new List<SelectListItem>
                              {
                                new SelectListItem{ Text="Enable", Value = "Enable",Selected=true },
                                new SelectListItem{ Text="Disable", Value = "Disable" }
                             }, "Please-Select", new { @class = "form-control select-picker" })
                            @Html.ValidationMessageFor(m => m.Status, "", new { @class = "text-danger" })
                        </div>
                    </div>

                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label">Short Description <span class="text-danger">*</span></label>
                            <textarea id="editor">@Model.ShortDescription</textarea>
                            <input type="hidden" value="@Model.ShortDescription" name="ShortDescription" class="editor-html" />
                            @Html.ValidationMessageFor(m => m.ShortDescription, "", new { @class = "text-danger" })

                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label">Long Description <span class="text-danger">*</span></label>
                            <textarea class="editor">@Model.Description</textarea>
                            <input type="hidden" value="@Model.Description" name="Description" class="editor-html-1" />
                            @Html.ValidationMessageFor(m => m.Description, "", new { @class = "text-danger" })

                        </div>
                    </div>

                </div>
                <div class="row">
                    <div class="col-md-6">
                        <button class="btn btn-primary showGallery" type="button">Show Gallery Images</button>
                    </div>
                </div>
               
                <div class="row">
                    
                    <div class="col-md-12" id="pnlGallery">
                        @if (ViewBag.Galleries != null)
                         {
                            List<Gallery> gall = (List<Gallery>)ViewBag.Galleries;
                            <table class="table table-striped table-bordered" cellspacing="0" width="100%">
                                <thead>
                                    <tr>
                                        <th>Select</th>
                                        <th>Title</th>
                                        <th>Image</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in gall)
                                    {
                                        <tr>
                                            <td><input type="checkbox" name="GalleryIds[]" value="@item.ID" /></td>
                                            <td>@item.Title</td>
                                            <td><img src="~/assets/gallery/@item.Image" width="100" height="100" /></td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        }
                        else
                        {
                            <h3>No Data Found</h3>
                        }
                   </div>
                </div>
            </div>
            <div class="panel-footer text-right">
                <a class="btn btn-info" href="@ViewBag.PageURL" tabindex="8">Back</a>
                <button class="btn btn-success" type="submit" tabindex="9">Save</button>
            </div>
        }
        <!--===================================================-->
        <!--End Block Styled Form -->
    </div>
</div>
<!--===================================================-->
<!--End page content-->
